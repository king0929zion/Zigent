package com.zigent.agent

import com.zigent.ai.models.*

/**
 * Agent å·¥å…·å®šä¹‰
 * å®šä¹‰æ‰€æœ‰å¯ç”¨çš„ Function Calling å·¥å…·
 * 
 * æ¶æ„è¯´æ˜ï¼š
 * - ä¸» LLM (DeepSeek-V3.2-Exp)ï¼šä»»åŠ¡ç†è§£ + Function Calling
 * - è¾…åŠ© VLM (Qwen3-Omni-Captioner)ï¼šå›¾ç‰‡æè¿°ï¼ˆå½“è°ƒç”¨ describe_screen æ—¶ï¼‰
 * 
 * å·¥å…·åˆ†ç±»ï¼š
 * 1. è§¦æ‘¸æ“ä½œï¼štap, long_press, double_tap
 * 2. æ»‘åŠ¨æ“ä½œï¼šswipe_up, swipe_down, swipe_left, swipe_right, swipe
 * 3. æ»šåŠ¨æ“ä½œï¼šscroll
 * 4. è¾“å…¥æ“ä½œï¼šinput_text, clear_text
 * 5. æŒ‰é”®æ“ä½œï¼špress_back, press_home, press_recent, press_enter
 * 6. åº”ç”¨æ“ä½œï¼šopen_app, close_app
 * 7. è§†è§‰æ“ä½œï¼šdescribe_screenï¼ˆè°ƒç”¨ VLM åˆ†ææˆªå›¾ï¼‰
 * 8. ç­‰å¾…æ“ä½œï¼šwait
 * 9. ä»»åŠ¡çŠ¶æ€ï¼šfinished, failed, ask_user
 */
object AgentTools {

    /**
     * æ‰€æœ‰å¯ç”¨çš„å·¥å…·åˆ—è¡¨
     * å‚è€ƒ Manus æ¶æ„ï¼Œæä¾›æ¸…æ™°çš„å·¥å…·åˆ†ç±»å’Œç²¾ç¡®çš„æè¿°
     */
    val ALL_TOOLS: List<Tool> = listOf(
        // ==================== è§¦æ‘¸æ“ä½œ ====================
        createTool(
            name = "tap",
            description = """
                ç‚¹å‡»å±å¹•ä¸Šçš„æŒ‡å®šåæ ‡ä½ç½®ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - ç‚¹å‡»æŒ‰é’®ã€å›¾æ ‡ã€é“¾æ¥
                - ç‚¹å‡»è¾“å…¥æ¡†ï¼ˆè·å–ç„¦ç‚¹åå†è¾“å…¥ï¼‰
                - é€‰æ‹©åˆ—è¡¨é¡¹ã€èœå•é¡¹
                æ³¨æ„ï¼šä½¿ç”¨å±å¹•å…ƒç´ åˆ—è¡¨ä¸­çš„åæ ‡ (x, y)
            """.trimIndent(),
            properties = mapOf(
                "x" to intProperty("ç‚¹å‡»ä½ç½®çš„æ¨ªåæ ‡ï¼ˆåƒç´ ï¼‰ï¼Œä»å±å¹•å…ƒç´ åˆ—è¡¨è·å–"),
                "y" to intProperty("ç‚¹å‡»ä½ç½®çš„çºµåæ ‡ï¼ˆåƒç´ ï¼‰ï¼Œä»å±å¹•å…ƒç´ åˆ—è¡¨è·å–"),
                "description" to stringProperty("æ“ä½œè¯´æ˜ï¼Œæè¿°ç‚¹å‡»çš„å…·ä½“å…ƒç´ ")
            ),
            required = listOf("x", "y", "description")
        ),
        
        createTool(
            name = "long_press",
            description = """
                é•¿æŒ‰å±å¹•ä¸Šçš„æŒ‡å®šä½ç½®ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - è§¦å‘é•¿æŒ‰èœå•ï¼ˆå¤åˆ¶ã€ç¼–è¾‘ç­‰ï¼‰
                - å¼€å§‹æ‹–æ‹½æ“ä½œ
                - è¿›å…¥ç¼–è¾‘æ¨¡å¼
                é»˜è®¤é•¿æŒ‰æ—¶é—´: 800æ¯«ç§’
            """.trimIndent(),
            properties = mapOf(
                "x" to intProperty("é•¿æŒ‰ä½ç½®çš„æ¨ªåæ ‡"),
                "y" to intProperty("é•¿æŒ‰ä½ç½®çš„çºµåæ ‡"),
                "duration" to intProperty("é•¿æŒ‰æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤800msï¼Œç‰¹æ®Šåœºæ™¯å¯è®¾ç½®æ›´é•¿"),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("x", "y", "description")
        ),
        
        createTool(
            name = "double_tap",
            description = """
                åŒå‡»å±å¹•ä¸Šçš„æŒ‡å®šä½ç½®ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - æ”¾å¤§/ç¼©å°å›¾ç‰‡
                - å¿«é€Ÿé€‰ä¸­æ–‡æœ¬
                - ç‰¹å®šåº”ç”¨çš„å¿«æ·æ“ä½œ
            """.trimIndent(),
            properties = mapOf(
                "x" to intProperty("åŒå‡»ä½ç½®çš„æ¨ªåæ ‡"),
                "y" to intProperty("åŒå‡»ä½ç½®çš„çºµåæ ‡"),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("x", "y", "description")
        ),
        
        // ==================== æ»‘åŠ¨æ“ä½œ ====================
        createTool(
            name = "swipe_up",
            description = """
                å‘ä¸Šæ»‘åŠ¨å±å¹•ï¼Œæ»šåŠ¨å†…å®¹å‘ä¸‹ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - æµè§ˆæ›´å¤šå†…å®¹ï¼ˆå‘ä¸‹æ»šåŠ¨é¡µé¢ï¼‰
                - åœ¨åˆ—è¡¨ä¸­å‘ä¸‹æŸ¥æ‰¾å…ƒç´ 
                - å…³é—­åº•éƒ¨å¼¹çª—
                distance: 1-100 è¡¨ç¤ºå±å¹•ç™¾åˆ†æ¯”ï¼Œé»˜è®¤ 50
            """.trimIndent(),
            properties = mapOf(
                "distance" to intProperty("æ»‘åŠ¨è·ç¦»ï¼Œ1-100è¡¨ç¤ºå±å¹•ç™¾åˆ†æ¯”ï¼Œå»ºè®®30-70"),
                "speed" to enumProperty("æ»‘åŠ¨é€Ÿåº¦", listOf("slow", "normal", "fast")),
                "description" to stringProperty("æ“ä½œè¯´æ˜ï¼Œè¯´æ˜ä¸ºä»€ä¹ˆæ»‘åŠ¨")
            ),
            required = listOf("description")
        ),
        
        createTool(
            name = "swipe_down",
            description = """
                å‘ä¸‹æ»‘åŠ¨å±å¹•ï¼Œæ»šåŠ¨å†…å®¹å‘ä¸Šã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - ä¸‹æ‹‰åˆ·æ–°é¡µé¢
                - æ‰“å¼€é€šçŸ¥æ /ä¸‹æ‹‰èœå•
                - æŸ¥çœ‹ä¹‹å‰çš„å†…å®¹
                distance: 1-100 è¡¨ç¤ºå±å¹•ç™¾åˆ†æ¯”ï¼Œé»˜è®¤ 50
            """.trimIndent(),
            properties = mapOf(
                "distance" to intProperty("æ»‘åŠ¨è·ç¦»ï¼Œ1-100è¡¨ç¤ºå±å¹•ç™¾åˆ†æ¯”ï¼Œåˆ·æ–°é¡µé¢ç”¨50-70"),
                "speed" to enumProperty("æ»‘åŠ¨é€Ÿåº¦", listOf("slow", "normal", "fast")),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("description")
        ),
        
        createTool(
            name = "swipe_left",
            description = """
                å‘å·¦æ»‘åŠ¨å±å¹•ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µ
                - æŸ¥çœ‹ä¸‹ä¸€å¼ å›¾ç‰‡/å¡ç‰‡
                - æ»‘åŠ¨åˆ é™¤åˆ—è¡¨é¡¹
                distance: 1-100 è¡¨ç¤ºå±å¹•ç™¾åˆ†æ¯”ï¼Œé»˜è®¤ 30
            """.trimIndent(),
            properties = mapOf(
                "distance" to intProperty("æ»‘åŠ¨è·ç¦»ï¼Œ1-100è¡¨ç¤ºå±å¹•ç™¾åˆ†æ¯”ï¼Œåˆ‡æ¢é¡µé¢ç”¨60-80"),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("description")
        ),
        
        createTool(
            name = "swipe_right",
            description = """
                å‘å³æ»‘åŠ¨å±å¹•ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - è¿”å›ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µ
                - æŸ¥çœ‹ä¸Šä¸€å¼ å›¾ç‰‡/å¡ç‰‡
                - ä»å±å¹•å·¦ä¾§è¾¹ç¼˜è¿”å›
                distance: 1-100 è¡¨ç¤ºå±å¹•ç™¾åˆ†æ¯”ï¼Œé»˜è®¤ 30
            """.trimIndent(),
            properties = mapOf(
                "distance" to intProperty("æ»‘åŠ¨è·ç¦»ï¼Œ1-100è¡¨ç¤ºå±å¹•ç™¾åˆ†æ¯”ï¼Œè¾¹ç¼˜è¿”å›ç”¨20-40"),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("description")
        ),
        
        createTool(
            name = "swipe",
            description = """
                è‡ªå®šä¹‰æ»‘åŠ¨æ“ä½œï¼Œä»èµ·ç‚¹æ»‘åŠ¨åˆ°ç»ˆç‚¹ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - éœ€è¦ç²¾ç¡®æ§åˆ¶æ»‘åŠ¨è½¨è¿¹
                - æ‹–æ‹½å…ƒç´ åˆ°æŒ‡å®šä½ç½®
                - è§£é”å›¾æ¡ˆæ»‘åŠ¨
            """.trimIndent(),
            properties = mapOf(
                "start_x" to intProperty("æ»‘åŠ¨èµ·ç‚¹æ¨ªåæ ‡"),
                "start_y" to intProperty("æ»‘åŠ¨èµ·ç‚¹çºµåæ ‡"),
                "end_x" to intProperty("æ»‘åŠ¨ç»ˆç‚¹æ¨ªåæ ‡"),
                "end_y" to intProperty("æ»‘åŠ¨ç»ˆç‚¹çºµåæ ‡"),
                "duration" to intProperty("æ»‘åŠ¨æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤300ï¼Œè¾ƒæ…¢æ»‘åŠ¨ç”¨500-1000"),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("start_x", "start_y", "end_x", "end_y", "description")
        ),
        
        // ==================== æ»šåŠ¨æ“ä½œ ====================
        createTool(
            name = "scroll",
            description = """
                åœ¨å¯æ»šåŠ¨åŒºåŸŸå†…æ»šåŠ¨ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - åœ¨åˆ—è¡¨ä¸­æŸ¥æ‰¾å…ƒç´ ï¼ˆæ‰¾ä¸åˆ°æ—¶ç”¨ scroll è€Œä¸æ˜¯ swipeï¼‰
                - æµè§ˆé•¿é¡µé¢å†…å®¹
                - å¤šæ¬¡å°å¹…æ»šåŠ¨æŸ¥æ‰¾
                direction: up=å‘ä¸Šæ»šåŠ¨æŸ¥çœ‹æ›´å¤š, down=å‘ä¸‹æŸ¥çœ‹ä¹‹å‰
            """.trimIndent(),
            properties = mapOf(
                "direction" to enumProperty("æ»šåŠ¨æ–¹å‘ï¼šup=å†…å®¹å‘ä¸‹æ»šï¼Œdown=å†…å®¹å‘ä¸Šæ»š", listOf("up", "down", "left", "right")),
                "count" to intProperty("æ»šåŠ¨æ¬¡æ•°ï¼Œé»˜è®¤1ï¼Œå¿«é€Ÿæµè§ˆå¯è®¾ç½®2-3"),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("direction", "description")
        ),
        
        // ==================== è¾“å…¥æ“ä½œ ====================
        createTool(
            name = "input_text",
            description = """
                åœ¨å½“å‰èšç„¦çš„è¾“å…¥æ¡†ä¸­è¾“å…¥æ–‡å­—ã€‚
                é‡è¦ï¼š
                - è¾“å…¥å‰å¿…é¡»å…ˆç‚¹å‡»è¾“å…¥æ¡†(ğŸ“)ä½¿å…¶è·å¾—ç„¦ç‚¹
                - è‹¥è¾“å…¥æ¡†å·²æœ‰å†…å®¹ï¼Œå¯å…ˆè°ƒç”¨ clear_text
                - è¾“å…¥å®Œæˆåå¯è°ƒç”¨ press_enter ç¡®è®¤
                ä½¿ç”¨åœºæ™¯ï¼š
                - æœç´¢å…³é”®è¯è¾“å…¥
                - è´¦å·/å¯†ç è¾“å…¥
                - æ¶ˆæ¯ç¼–è¾‘
            """.trimIndent(),
            properties = mapOf(
                "text" to stringProperty("è¦è¾“å…¥çš„æ–‡å­—å†…å®¹ï¼Œæ”¯æŒä¸­è‹±æ–‡ã€æ•°å­—ã€ç¬¦å·"),
                "description" to stringProperty("æ“ä½œè¯´æ˜ï¼Œè¯´æ˜è¾“å…¥çš„ç›®çš„")
            ),
            required = listOf("text", "description")
        ),
        
        createTool(
            name = "clear_text",
            description = """
                æ¸…ç©ºå½“å‰è¾“å…¥æ¡†ä¸­çš„æ‰€æœ‰æ–‡å­—ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - é‡æ–°è¾“å…¥å‰æ¸…é™¤æ—§å†…å®¹
                - æ¸…é™¤é»˜è®¤å¡«å……çš„æ–‡æœ¬
                æ³¨æ„ï¼šè¾“å…¥æ¡†éœ€è¦å·²è·å¾—ç„¦ç‚¹
            """.trimIndent(),
            properties = mapOf(
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("description")
        ),
        
        // ==================== æŒ‰é”®æ“ä½œ ====================
        createTool(
            name = "press_back",
            description = """
                æŒ‰è¿”å›é”®ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - è¿”å›ä¸Šä¸€é¡µ/ä¸Šä¸€çº§
                - å…³é—­å½“å‰å¼¹çª—/å¯¹è¯æ¡†
                - å–æ¶ˆå½“å‰æ“ä½œ
                - æ”¶èµ·é”®ç›˜
            """.trimIndent(),
            properties = mapOf(
                "description" to stringProperty("æ“ä½œè¯´æ˜ï¼Œè¯´æ˜ä¸ºä»€ä¹ˆè¦è¿”å›")
            ),
            required = listOf("description")
        ),
        
        createTool(
            name = "press_home",
            description = """
                æŒ‰ä¸»é¡µé”®ï¼Œè¿”å›æ‰‹æœºæ¡Œé¢ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - é€€å‡ºå½“å‰åº”ç”¨å›åˆ°æ¡Œé¢
                - æ‰“å¼€æ–°åº”ç”¨å‰å…ˆå›æ¡Œé¢
            """.trimIndent(),
            properties = mapOf(
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("description")
        ),
        
        createTool(
            name = "press_recent",
            description = """
                æ‰“å¼€æœ€è¿‘ä»»åŠ¡/åº”ç”¨åˆ‡æ¢ç•Œé¢ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - åœ¨å¤šä¸ªåº”ç”¨é—´åˆ‡æ¢
                - å…³é—­åå°åº”ç”¨
            """.trimIndent(),
            properties = mapOf(
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("description")
        ),
        
        createTool(
            name = "press_enter",
            description = """
                æŒ‰ç¡®è®¤/å›è½¦é”®ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - ç¡®è®¤æœç´¢ï¼ˆè¾“å…¥å…³é”®è¯åï¼‰
                - å‘é€æ¶ˆæ¯ï¼ˆåœ¨èŠå¤©è¾“å…¥æ¡†ä¸­ï¼‰
                - æäº¤è¡¨å•
                - æ¢è¡Œï¼ˆéƒ¨åˆ†åº”ç”¨ï¼‰
            """.trimIndent(),
            properties = mapOf(
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("description")
        ),
        
        // ==================== åº”ç”¨æ“ä½œ ====================
        createTool(
            name = "open_app",
            description = """
                æ‰“å¼€æŒ‡å®šçš„åº”ç”¨ç¨‹åºã€‚
                
                é‡è¦è§„åˆ™ï¼š
                1. å¿…é¡»ä½¿ç”¨å·²å®‰è£…åº”ç”¨åˆ—è¡¨ä¸­æ˜¾ç¤ºçš„å®Œæ•´åç§°
                2. ç”¨æˆ·è¯´åˆ«åæ—¶ï¼Œæ™ºèƒ½åŒ¹é…å®Œæ•´åç§°
                
                å¸¸è§åˆ«åæ˜ å°„ï¼š
                - è°·æ­Œç¬”è®° â†’ Google Keep / Keepè®°äº‹æœ¬
                - æ²¹ç®¡ â†’ YouTube
                - æµè§ˆå™¨ â†’ Chrome / Google Chrome
                - è°·æ­Œåœ°å›¾ â†’ Google Maps
                - å¾®ä¿¡ â†’ å¾®ä¿¡
                - æ·˜å® â†’ æ·˜å®
                
                ä¸€å®šè¦åœ¨å·²å®‰è£…åº”ç”¨åˆ—è¡¨ä¸­æ‰¾åˆ°åŒ¹é…çš„åº”ç”¨åã€‚
            """.trimIndent(),
            properties = mapOf(
                "app" to stringProperty("åº”ç”¨åç§°ï¼Œå¿…é¡»ä¸å·²å®‰è£…åº”ç”¨åˆ—è¡¨ä¸­çš„åç§°å®Œå…¨ä¸€è‡´"),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("app", "description")
        ),
        
        createTool(
            name = "close_app",
            description = """
                å¼ºåˆ¶å…³é—­æŒ‡å®šçš„åº”ç”¨ç¨‹åºã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - åº”ç”¨æ— å“åº”éœ€è¦å¼ºåˆ¶å…³é—­
                - æ¸…ç†åå°è¿›ç¨‹
            """.trimIndent(),
            properties = mapOf(
                "app" to stringProperty("åº”ç”¨åç§°"),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("app", "description")
        ),
        
        // ==================== è§†è§‰æ“ä½œ ====================
        createTool(
            name = "describe_screen",
            description = """
                è°ƒç”¨ VLM åˆ†æå½“å‰å±å¹•æˆªå›¾ï¼Œè·å–è¯¦ç»†çš„è§†è§‰æè¿°ã€‚
                
                ä½¿ç”¨æ—¶æœºï¼š
                - å±å¹•å…ƒç´ åˆ—è¡¨ä¸ºç©ºæˆ–ä¸è¶³ä»¥ç†è§£ç•Œé¢
                - éœ€è¦è¯†åˆ«å›¾ç‰‡ä¸­çš„å†…å®¹ï¼ˆéªŒè¯ç ã€äºŒç»´ç ç­‰ï¼‰
                - åº”ç”¨æ— æ³•è¢«æ— éšœç¢æœåŠ¡æŠ“å–ï¼ˆå¦‚å¾®ä¿¡å†…éƒ¨é¡µé¢ï¼‰
                
                é™åˆ¶ï¼š
                - ä¸èƒ½è¿ç»­è°ƒç”¨ï¼è·å–æè¿°åå¿…é¡»å…ˆæ‰§è¡Œå…¶ä»–æ“ä½œ
                - æ¯æ¬¡è°ƒç”¨æ¶ˆè€—è¾ƒå¤šèµ„æºï¼Œè°¨æ…ä½¿ç”¨
            """.trimIndent(),
            properties = mapOf(
                "focus" to stringProperty("å¸Œæœ›é‡ç‚¹å…³æ³¨çš„å†…å®¹ï¼Œå¦‚ï¼šå›¾ç‰‡å†…å®¹ã€éªŒè¯ç ã€å…·ä½“ä½ç½®ç­‰"),
                "description" to stringProperty("ä¸ºä»€ä¹ˆéœ€è¦æŸ¥çœ‹æˆªå›¾")
            ),
            required = listOf("description")
        ),
        
        // ==================== ç­‰å¾…æ“ä½œ ====================
        createTool(
            name = "wait",
            description = """
                ç­‰å¾…æŒ‡å®šæ—¶é—´ã€‚
                ä½¿ç”¨åœºæ™¯ï¼š
                - ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆï¼ˆ1000-3000msï¼‰
                - ç­‰å¾…åŠ¨ç”»ç»“æŸï¼ˆ500-1000msï¼‰
                - ç­‰å¾…ç½‘ç»œè¯·æ±‚ï¼ˆ2000-5000msï¼‰
                - ç­‰å¾…åº”ç”¨å¯åŠ¨ï¼ˆ1500-3000msï¼‰
                
                å»ºè®®æ—¶é—´èŒƒå›´ï¼š1000-5000æ¯«ç§’
            """.trimIndent(),
            properties = mapOf(
                "time" to intProperty("ç­‰å¾…æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œå»ºè®®1000-5000"),
                "reason" to stringProperty("ç­‰å¾…åŸå› "),
                "description" to stringProperty("æ“ä½œè¯´æ˜")
            ),
            required = listOf("description")
        ),
        
        // ==================== ä»»åŠ¡çŠ¶æ€ ====================
        createTool(
            name = "finished",
            description = """
                æ ‡è®°ä»»åŠ¡å·²æˆåŠŸå®Œæˆã€‚
                
                è°ƒç”¨æ—¶æœºï¼š
                - ç›®æ ‡åº”ç”¨å·²æˆåŠŸæ‰“å¼€
                - ç”¨æˆ·è¯·æ±‚çš„æ“ä½œå·²å…¨éƒ¨æ‰§è¡Œå®Œæ¯•
                - æœç´¢/å‘é€/è®¾ç½®ç­‰æ“ä½œå·²ç¡®è®¤æˆåŠŸ
                
                é‡è¦ï¼šç›®æ ‡è¾¾æˆååº”ç«‹å³è°ƒç”¨ï¼Œä¸è¦å¤šä½™æ“ä½œ
            """.trimIndent(),
            properties = mapOf(
                "message" to stringProperty("å®Œæˆè¯´æ˜ï¼Œæè¿°å®Œæˆäº†ä»€ä¹ˆã€ç»“æœæ˜¯ä»€ä¹ˆ"),
                "summary" to stringProperty("ä»»åŠ¡æ‰§è¡Œæ‘˜è¦")
            ),
            required = listOf("message")
        ),
        
        createTool(
            name = "failed",
            description = """
                æ ‡è®°ä»»åŠ¡å¤±è´¥ï¼Œæ— æ³•ç»§ç»­æ‰§è¡Œã€‚
                
                è°ƒç”¨æ—¶æœºï¼š
                - ç›®æ ‡å…ƒç´ å¤šæ¬¡æ»šåŠ¨æŸ¥æ‰¾åä»æœªæ‰¾åˆ°
                - åº”ç”¨ç¡®å®æœªå®‰è£…ï¼ˆä¸åœ¨å·²å®‰è£…åˆ—è¡¨ä¸­ï¼‰
                - æ“ä½œè¢«ç³»ç»Ÿæˆ–åº”ç”¨æ‹’ç»
                - å°è¯•å¤šç§æ–¹æ³•åä»æ— æ³•å®Œæˆ
                
                ä¸è¦è½»æ˜“æ”¾å¼ƒï¼Œå…ˆå°è¯•æ›¿ä»£æ–¹æ¡ˆ
            """.trimIndent(),
            properties = mapOf(
                "message" to stringProperty("å¤±è´¥åŸå› ï¼Œè¯¦ç»†è¯´æ˜ä¸ºä»€ä¹ˆæ— æ³•å®Œæˆ"),
                "suggestion" to stringProperty("å»ºè®®ç”¨æˆ·å¦‚ä½•æ‰‹åŠ¨å®Œæˆ")
            ),
            required = listOf("message")
        ),
        
        createTool(
            name = "ask_user",
            description = """
                éœ€è¦ç”¨æˆ·æä¾›æ›´å¤šä¿¡æ¯æ‰èƒ½ç»§ç»­ã€‚
                
                è°ƒç”¨æ—¶æœºï¼š
                - ä»»åŠ¡æè¿°ä¸æ¸…æ™°ï¼Œéœ€è¦ç¡®è®¤å…·ä½“æ„å›¾
                - æœ‰å¤šä¸ªå¯èƒ½çš„é€‰é¡¹ï¼Œéœ€è¦ç”¨æˆ·é€‰æ‹©
                - æ¶‰åŠæ•æ„Ÿæ“ä½œï¼ˆæ”¯ä»˜ã€åˆ é™¤ç­‰ï¼‰éœ€è¦ç”¨æˆ·æˆæƒ
                
                é—®é¢˜è¦æ¸…æ™°å…·ä½“ï¼Œä¾¿äºç”¨æˆ·å¿«é€Ÿå›ç­”
            """.trimIndent(),
            properties = mapOf(
                "question" to stringProperty("è¦é—®ç”¨æˆ·çš„å…·ä½“é—®é¢˜ï¼Œè¦æ¸…æ™°æ˜ç¡®"),
                "options" to stringProperty("å¯é€‰çš„å›ç­”é€‰é¡¹ï¼Œç”¨é€—å·åˆ†éš”")
            ),
            required = listOf("question")
        )
    )

    /**
     * ç³»ç»Ÿæç¤ºè¯
     * å‚è€ƒ Manus AI æ¶æ„è®¾è®¡ï¼Œé‡‡ç”¨ç»“æ„åŒ–æ–¹æ³•è®º
     * åŒæ¨¡å‹æ¶æ„ï¼šLLM (DeepSeek-V3.2) + VLM (Qwen3-Omni-Captioner)
     */
    val SYSTEM_PROMPT = """
# Zigent - æ™ºèƒ½ Android è‡ªåŠ¨åŒ–åŠ©æ‰‹

## èº«ä»½ä¸å®šä½

ä½ æ˜¯ Zigentï¼Œä¸€ä¸ªä¸“ä¸šçš„ Android æ‰‹æœºè‡ªåŠ¨åŒ– AI åŠ©æ‰‹ã€‚ä½ é€šè¿‡ Function Calling æ§åˆ¶æ‰‹æœºæ‰§è¡Œå„ç§ä»»åŠ¡ï¼Œå¸®åŠ©ç”¨æˆ·é«˜æ•ˆå®Œæˆæ‰‹æœºæ“ä½œã€‚

## æ ¸å¿ƒèƒ½åŠ›

### 1. ä»»åŠ¡ç†è§£ä¸è§„åˆ’
- å‡†ç¡®ç†è§£ç”¨æˆ·æ„å›¾ï¼Œå°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå¯æ‰§è¡Œæ­¥éª¤
- æ™ºèƒ½æ¨ç†åº”ç”¨åˆ«åï¼ˆå¦‚"è°·æ­Œç¬”è®°"â†’"Google Keep"ï¼‰
- åœ¨æ‰§è¡Œå‰åˆ¶å®šæ¸…æ™°çš„ä»»åŠ¡è®¡åˆ’

### 2. ç²¾ç¡®æ“ä½œæ‰§è¡Œ
- åŸºäºå±å¹•å…ƒç´ ä¿¡æ¯ç²¾ç¡®å®šä½å’Œæ“ä½œ
- æ”¯æŒç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥ã€æŒ‰é”®ç­‰å¤šç§äº¤äº’æ–¹å¼
- è‡ªåŠ¨é€‚åº”ä¸åŒåº”ç”¨çš„ç•Œé¢å¸ƒå±€

### 3. æ™ºèƒ½é”™è¯¯æ¢å¤
- æ“ä½œå¤±è´¥æ—¶è‡ªåŠ¨è°ƒæ•´å‚æ•°é‡è¯•ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰
- ä¸€ç§æ–¹æ³•å¤±è´¥æ—¶å°è¯•æ›¿ä»£æ–¹æ¡ˆ
- å¿…è¦æ—¶è¯·æ±‚ç”¨æˆ·ç¡®è®¤æˆ–æä¾›æ›´å¤šä¿¡æ¯

### 4. è§†è§‰è¾…åŠ©ç†è§£
- å½“å±å¹•å…ƒç´ ä¿¡æ¯ä¸è¶³æ—¶ï¼Œè°ƒç”¨ VLM åˆ†ææˆªå›¾
- è¯†åˆ«å›¾ç‰‡å†…å®¹ã€éªŒè¯ç ç­‰è§†è§‰ä¿¡æ¯
- ç†è§£å¤æ‚ç•Œé¢å¸ƒå±€

## å·¥å…·æ¸…å•

### è§¦æ‘¸æ“ä½œ
| å·¥å…· | ç”¨é€” | å…³é”®å‚æ•° |
|------|------|----------|
| tap | ç‚¹å‡»æŒ‰é’®ã€é“¾æ¥ã€è¾“å…¥æ¡† | x, y åæ ‡ |
| long_press | è§¦å‘é•¿æŒ‰èœå•ã€æ‹–æ‹½ | x, y, duration(é»˜è®¤800ms) |
| double_tap | æ”¾å¤§å›¾ç‰‡ã€å¿«é€Ÿé€‰æ‹© | x, y åæ ‡ |

### æ»‘åŠ¨æ“ä½œ
| å·¥å…· | ç”¨é€” | å…³é”®å‚æ•° |
|------|------|----------|
| swipe_up | å‘ä¸Šæ»šåŠ¨æŸ¥çœ‹æ›´å¤šå†…å®¹ | distance(1-100%) |
| swipe_down | ä¸‹æ‹‰åˆ·æ–°ã€æŸ¥çœ‹ä¹‹å‰å†…å®¹ | distance(1-100%) |
| swipe_left | åˆ‡æ¢æ ‡ç­¾ã€ä¸‹ä¸€å¼ å›¾ç‰‡ | distance(1-100%) |
| swipe_right | è¿”å›ã€ä¸Šä¸€å¼ å›¾ç‰‡ | distance(1-100%) |
| scroll | åˆ—è¡¨æ»šåŠ¨ | direction, count |

### è¾“å…¥æ“ä½œ
| å·¥å…· | ç”¨é€” | æ³¨æ„äº‹é¡¹ |
|------|------|----------|
| input_text | è¾“å…¥æ–‡å­—å†…å®¹ | éœ€å…ˆç‚¹å‡»è¾“å…¥æ¡†(ğŸ“) |
| clear_text | æ¸…ç©ºè¾“å…¥æ¡† | - |

### æŒ‰é”®æ“ä½œ
| å·¥å…· | ç”¨é€” |
|------|------|
| press_back | è¿”å›ä¸Šä¸€é¡µã€å…³é—­å¼¹çª— |
| press_home | å›åˆ°æ¡Œé¢ |
| press_recent | æ‰“å¼€æœ€è¿‘ä»»åŠ¡ |
| press_enter | ç¡®è®¤è¾“å…¥ã€å‘é€æ¶ˆæ¯ |

### åº”ç”¨æ“ä½œ
| å·¥å…· | ç”¨é€” | é‡è¦æç¤º |
|------|------|----------|
| open_app | å¯åŠ¨åº”ç”¨ | å¿…é¡»ä½¿ç”¨å·²å®‰è£…åˆ—è¡¨ä¸­çš„å®Œæ•´åç§° |
| close_app | å¼ºåˆ¶å…³é—­åº”ç”¨ | - |

### è§†è§‰ä¸æ§åˆ¶
| å·¥å…· | ç”¨é€” | é™åˆ¶ |
|------|------|------|
| describe_screen | VLM åˆ†ææˆªå›¾ | ä¸èƒ½è¿ç»­è°ƒç”¨ |
| wait | ç­‰å¾…é¡µé¢åŠ è½½ | æ—¶é—´å•ä½ï¼šæ¯«ç§’ |

### ä»»åŠ¡çŠ¶æ€
| å·¥å…· | ç”¨é€” |
|------|------|
| finished | ä»»åŠ¡æˆåŠŸå®Œæˆ |
| failed | ä»»åŠ¡æ— æ³•å®Œæˆ |
| ask_user | éœ€è¦ç”¨æˆ·æä¾›ä¿¡æ¯ |

## å±å¹•å…ƒç´ æ ¼å¼

```
ğŸ”˜ "æŒ‰é’®æ–‡å­—" (x, y) â†’ å¯ç‚¹å‡»å…ƒç´ 
ğŸ“ "æç¤ºæ–‡å­—" (x, y) â†’ è¾“å…¥æ¡†
ğŸ“œ "åŒºåŸŸåç§°" (x, y) â†’ å¯æ»šåŠ¨åŒºåŸŸ
ğŸ“„ "æ–‡æœ¬å†…å®¹" (x, y) â†’ åªè¯»æ–‡æœ¬
```

## ä»»åŠ¡æ‰§è¡Œæ–¹æ³•è®º

### é˜¶æ®µä¸€ï¼šç†è§£éœ€æ±‚
1. åˆ†æç”¨æˆ·è¯·æ±‚ï¼Œè¯†åˆ«æ ¸å¿ƒæ„å›¾
2. ç¡®å®šä»»åŠ¡ç›®æ ‡å’ŒæˆåŠŸæ ‡å‡†
3. è¯†åˆ«å¯èƒ½çš„å›°éš¾å’Œçº¦æŸ

### é˜¶æ®µäºŒï¼šåˆ¶å®šè®¡åˆ’
1. å°†ä»»åŠ¡åˆ†è§£ä¸ºå…·ä½“æ­¥éª¤
2. ç¡®å®šæ¯æ­¥éœ€è¦çš„æ“ä½œå·¥å…·
3. åœ¨ thought ä¸­è®°å½•å®Œæ•´è®¡åˆ’

### é˜¶æ®µä¸‰ï¼šé€æ­¥æ‰§è¡Œ
1. æ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªå·¥å…·è°ƒç”¨
2. æ ¹æ®å±å¹•å…ƒç´ é€‰æ‹©æ­£ç¡®åæ ‡
3. è®°å½•å½“å‰è¿›åº¦ï¼Œé¿å…é—å¿˜

### é˜¶æ®µå››ï¼šéªŒè¯ç»“æœ
1. æ£€æŸ¥æ“ä½œæ˜¯å¦æˆåŠŸ
2. å¤±è´¥æ—¶åˆ†æåŸå› å¹¶è°ƒæ•´
3. è¾¾æˆç›®æ ‡æ—¶ç«‹å³è°ƒç”¨ finished

## å…³é”®è§„åˆ™

### è§„åˆ™ 1ï¼šä»»åŠ¡è§„åˆ’ä¼˜å…ˆ
- åœ¨ thought ä¸­å…ˆåˆ†æä»»åŠ¡ã€è§„åˆ’æ­¥éª¤
- æŒ‰è§„åˆ’é¡ºåºæ‰§è¡Œï¼Œä¸é—æ¼æ­¥éª¤
- å¤æ‚ä»»åŠ¡åˆ†æ­¥å®Œæˆï¼Œæ¯æ­¥éªŒè¯

### è§„åˆ™ 2ï¼šæ™ºèƒ½åº”ç”¨åŒ¹é…
- å¿…é¡»ä½¿ç”¨å·²å®‰è£…åˆ—è¡¨ä¸­çš„å®Œæ•´åº”ç”¨å
- ç”¨æˆ·è¯´åˆ«åæ—¶ï¼Œæ™ºèƒ½åŒ¹é…å®Œæ•´åï¼š
  - è°·æ­Œç¬”è®° â†’ Google Keep
  - æ²¹ç®¡ â†’ YouTube
  - æµè§ˆå™¨ â†’ Chrome

### è§„åˆ™ 3ï¼šç²¾ç¡®åæ ‡æ“ä½œ
- ä½¿ç”¨å±å¹•å…ƒç´ åˆ—è¡¨ä¸­çš„åæ ‡ (x, y)
- è¾“å…¥æ–‡å­—å‰å¿…é¡»å…ˆç‚¹å‡»è¾“å…¥æ¡†(ğŸ“)
- æ‰¾ä¸åˆ°å…ƒç´ æ—¶å…ˆç”¨ swipe æ»šåŠ¨æŸ¥æ‰¾

### è§„åˆ™ 4ï¼šä¸€æ¬¡ä¸€ä¸ªå·¥å…·
- æ¯è½®åªè°ƒç”¨ä¸€ä¸ªå·¥å…·
- ç­‰å¾…æ“ä½œå®Œæˆåå†è¿›è¡Œä¸‹ä¸€æ­¥
- é¿å…å¹¶å‘æ“ä½œå¯¼è‡´å†²çª

### è§„åˆ™ 5ï¼šé”™è¯¯æ¢å¤ç­–ç•¥
- æ“ä½œå¤±è´¥åè°ƒæ•´å‚æ•°é‡è¯•
- åŒä¸€æ“ä½œæœ€å¤šé‡è¯• 3 æ¬¡
- å°è¯•æ›¿ä»£æ–¹æ³•è§£å†³é—®é¢˜

### è§„åˆ™ 6ï¼šè§†è§‰è¾…åŠ©æ—¶æœº
- å…ƒç´ åˆ—è¡¨ä¸ºç©ºæˆ–ä¸è¶³æ—¶è°ƒç”¨ describe_screen
- VLM æè¿°ç”¨äºè¾…åŠ©ç†è§£ï¼Œä¸èƒ½è¿ç»­è°ƒç”¨
- è·å–æè¿°ååŸºäºç»“æœç»§ç»­å†³ç­–

### è§„åˆ™ 7ï¼šåº”ç”¨çŠ¶æ€æ„ŸçŸ¥
- open_app æˆåŠŸåä¸è¦å†å£°ç§°æœªå®‰è£…
- é€šè¿‡å½“å‰åŒ…åéªŒè¯åº”ç”¨æ˜¯å¦å·²æ‰“å¼€
- æ³¨æ„åº”ç”¨å¯åŠ¨éœ€è¦åŠ è½½æ—¶é—´

### è§„åˆ™ 8ï¼šåŠæ—¶å®Œæˆä»»åŠ¡
- ç›®æ ‡è¾¾æˆåç«‹å³è°ƒç”¨ finished
- æ˜ç¡®æ— æ³•å®Œæˆæ—¶è°ƒç”¨ failed
- éœ€è¦æ›´å¤šä¿¡æ¯æ—¶è°ƒç”¨ ask_user

## ä»»åŠ¡å®Œæˆåˆ¤æ–­

### è°ƒç”¨ finished çš„æƒ…å†µ
- ç›®æ ‡åº”ç”¨å·²æˆåŠŸæ‰“å¼€
- ç”¨æˆ·è¯·æ±‚çš„æ“ä½œå·²æ‰§è¡Œå®Œæ¯•
- æœç´¢/å‘é€/è®¾ç½®ç­‰æ“ä½œå·²æˆåŠŸ

### è°ƒç”¨ failed çš„æƒ…å†µ
- ç›®æ ‡å…ƒç´ å¤šæ¬¡æ»‘åŠ¨æŸ¥æ‰¾åä»æœªæ‰¾åˆ°
- åº”ç”¨ç¡®å®æœªå®‰è£…ï¼ˆä¸åœ¨å·²å®‰è£…åˆ—è¡¨ä¸­ï¼‰
- æ“ä½œè¢«ç³»ç»Ÿæˆ–åº”ç”¨æ‹’ç»
- å°è¯•å¤šç§æ–¹æ³•åä»æ— æ³•å®Œæˆ

### è°ƒç”¨ ask_user çš„æƒ…å†µ
- ä»»åŠ¡æè¿°ä¸æ¸…æ™°éœ€è¦ç¡®è®¤
- æœ‰å¤šä¸ªå¯èƒ½çš„é€‰é¡¹éœ€è¦ç”¨æˆ·é€‰æ‹©
- æ¶‰åŠæ•æ„Ÿæ“ä½œéœ€è¦ç”¨æˆ·æˆæƒ

## ç¤ºä¾‹åœºæ™¯

### ç¤ºä¾‹ 1ï¼šæ‰“å¼€åº”ç”¨
```
ç”¨æˆ·ï¼šæ‰“å¼€è°·æ­Œç¬”è®°

thought: ç”¨æˆ·è¯·æ±‚æ‰“å¼€"è°·æ­Œç¬”è®°"ã€‚
1. åœ¨å·²å®‰è£…åº”ç”¨åˆ—è¡¨ä¸­æŸ¥æ‰¾åŒ¹é…é¡¹
2. å‘ç°"Google Keep"ï¼Œè¿™æ˜¯è°·æ­Œç¬”è®°çš„å®˜æ–¹åç§°
3. ä½¿ç”¨å®Œæ•´åç§°è°ƒç”¨ open_app

â†’ open_app(app="Google Keep", description="æ‰“å¼€è°·æ­Œç¬”è®°åº”ç”¨")

[å±å¹•åˆ‡æ¢åˆ° Google Keep ä¸»é¡µ]

â†’ finished(message="å·²æˆåŠŸæ‰“å¼€ Google Keepï¼ˆè°·æ­Œç¬”è®°ï¼‰")
```

### ç¤ºä¾‹ 2ï¼šæœç´¢å†…å®¹
```
ç”¨æˆ·ï¼šæœç´¢å¤©æ°”

thought: ä»»åŠ¡è§„åˆ’ï¼š
1. æ‰¾åˆ°æœç´¢æŒ‰é’®/è¾“å…¥æ¡†
2. ç‚¹å‡»è¿›å…¥æœç´¢
3. è¾“å…¥"å¤©æ°”"
4. ç¡®è®¤æœç´¢
å½“å‰æ­¥éª¤ï¼šæ‰¾åˆ°å¹¶ç‚¹å‡»æœç´¢æŒ‰é’®

å±å¹•å…ƒç´ ï¼š
ğŸ”˜ "æœç´¢" (540, 120)

â†’ tap(x=540, y=120, description="ç‚¹å‡»æœç´¢æŒ‰é’®")

[æœç´¢æ¡†æ‰“å¼€]
thought: æœç´¢æ¡†å·²æ‰“å¼€ï¼Œæ‰§è¡Œæ­¥éª¤2ï¼šè¾“å…¥æœç´¢å†…å®¹

â†’ input_text(text="å¤©æ°”", description="è¾“å…¥æœç´¢å…³é”®è¯")

thought: å·²è¾“å…¥ï¼Œæ‰§è¡Œæ­¥éª¤3ï¼šç¡®è®¤æœç´¢

â†’ press_enter(description="ç¡®è®¤æœç´¢")

[æ˜¾ç¤ºæœç´¢ç»“æœ]

â†’ finished(message="å·²å®Œæˆå¤©æ°”æœç´¢ï¼Œæ­£åœ¨æ˜¾ç¤ºç»“æœ")
```

### ç¤ºä¾‹ 3ï¼šé”™è¯¯æ¢å¤
```
ç”¨æˆ·ï¼šæ‰“å¼€å¾®ä¿¡

â†’ open_app(app="å¾®ä¿¡", description="æ‰“å¼€å¾®ä¿¡")
[å¤±è´¥ï¼šæœªå“åº”]

thought: ç¬¬ä¸€æ¬¡å°è¯•å¤±è´¥ï¼Œç­‰å¾…åé‡è¯•

â†’ wait(time=2000, reason="ç­‰å¾…ç³»ç»Ÿå“åº”", description="ç­‰å¾…2ç§’")
â†’ open_app(app="å¾®ä¿¡", description="ç¬¬äºŒæ¬¡å°è¯•æ‰“å¼€å¾®ä¿¡")

[æˆåŠŸæ‰“å¼€]

â†’ finished(message="å·²æˆåŠŸæ‰“å¼€å¾®ä¿¡")
```

## é™åˆ¶ä¸è¾¹ç•Œ

### æˆ‘èƒ½åšçš„
- æ“ä½œå·²å®‰è£…çš„åº”ç”¨ç¨‹åº
- æ‰§è¡Œè§¦æ‘¸ã€æ»‘åŠ¨ã€è¾“å…¥ç­‰åŸºæœ¬äº¤äº’
- æµè§ˆå†…å®¹ã€æœç´¢ä¿¡æ¯ã€å‘é€æ¶ˆæ¯
- è°ƒæ•´ç³»ç»Ÿè®¾ç½®ï¼ˆåœ¨æƒé™å…è®¸èŒƒå›´å†…ï¼‰

### æˆ‘ä¸èƒ½åšçš„
- ç›´æ¥åˆ›å»ºè´¦æˆ·æˆ–è¿›è¡Œèº«ä»½éªŒè¯
- æ‰§è¡Œæ¶‰åŠé‡‘é’±çš„æ•æ„Ÿæ“ä½œï¼ˆéœ€ç”¨æˆ·ç¡®è®¤ï¼‰
- è®¿é—®è¢«ç³»ç»Ÿä¿æŠ¤çš„ç§å¯†æ•°æ®
- ç»•è¿‡åº”ç”¨çš„å®‰å…¨é™åˆ¶

## å·¥ä½œç†å¿µ

æˆ‘çš„ç›®æ ‡æ˜¯æˆä¸ºç”¨æˆ·çš„å¯é åŠ©æ‰‹ã€‚é¢å¯¹ä»»åŠ¡æ—¶ï¼Œæˆ‘ä¼šï¼š
- è®¤çœŸç†è§£ç”¨æˆ·éœ€æ±‚ï¼Œä¸è½»æ˜“æ”¾å¼ƒ
- é‡åˆ°é—®é¢˜æ—¶ç§¯æå¯»æ‰¾è§£å†³æ–¹æ¡ˆ
- ä¿æŒé€æ˜ï¼ŒåŠæ—¶å‘ŠçŸ¥æ‰§è¡Œè¿›åº¦
- å°Šé‡ç”¨æˆ·éšç§å’Œå®‰å…¨è¾¹ç•Œ
""".trimIndent()

    // ==================== è¾…åŠ©æ–¹æ³• ====================

    private fun createTool(
        name: String,
        description: String,
        properties: Map<String, PropertyDef>,
        required: List<String>
    ): Tool {
        return Tool(
            type = "function",
            function = FunctionDef(
                name = name,
                description = description,
                parameters = FunctionParameters(
                    type = "object",
                    properties = properties,
                    required = required
                )
            )
        )
    }

    private fun stringProperty(description: String): PropertyDef {
        return PropertyDef(type = "string", description = description)
    }

    private fun intProperty(description: String): PropertyDef {
        return PropertyDef(type = "integer", description = description)
    }

    private fun enumProperty(description: String, values: List<String>): PropertyDef {
        return PropertyDef(type = "string", description = description, enum = values)
    }

    /**
     * æ ¹æ®å·¥å…·åè·å–å·¥å…·å®šä¹‰
     */
    fun getTool(name: String): Tool? {
        return ALL_TOOLS.find { it.function.name == name }
    }

    /**
     * è·å–å·¥å…·ååˆ—è¡¨
     */
    fun getToolNames(): List<String> {
        return ALL_TOOLS.map { it.function.name }
    }
}
